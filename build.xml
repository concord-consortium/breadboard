<?xml version="1.0"?>
<!-- 
  This build.xml is out-of-date:
  sparks-content is no longer deployed as a stand-alone.
  It is part of the rails application.
-->
<project name="resistor_colors" default="export">
  
  <property name="src.root.dir" value = "."/>
  <property name="tgt.root.dir" value = "export/sparks-content"/>
  <property name="src.res.dir" value = "${src.root.dir}/activities/resistor-colors"/>
  <property name="tgt.res.dir" value = "${tgt.root.dir}/activities/resistor-colors"/>
  <tstamp>
    <format property="today" pattern="yyyyMMdd"/>
  </tstamp>
  
  <target name="export" depends="delete_export">
    <copy todir="${tgt.root.dir}/common">
      <fileset dir="${src.root.dir}/common"/>
    </copy>
    <copy todir="${tgt.root.dir}/lib/jquery">
      <fileset dir="${src.root.dir}/lib/jquery"/>
    </copy>
    <copy todir="${tgt.res.dir}/report-templates">
      <fileset dir="${src.res.dir}/report-templates"/>
    </copy>
    <copy todir="${tgt.res.dir}/javascript">
      <fileset dir="${src.res.dir}/javascript"/>
    </copy>
    <copy todir="${tgt.res.dir}">
      <fileset dir="${src.res.dir}"
        includes="index.html, resistor_colors.swf"
      />
    </copy>
    <zip destfile="export/sparks-content-${today}.zip"
      basedir="export"
      includes="sparks-content/**"
    />
  </target>

  <target name="delete_export">
    <delete dir="export"/>
  </target>

</project>
